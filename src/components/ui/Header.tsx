import React, { FC, Fragment, useEffect, useState } from "react";
import Link from "next/link";
import { useRouter } from "next/router";

import { ComponentProps, LinkProps } from "@app/types";

import { CloseIcon, MenuIcon } from "../icons";
import { DetectOutsideClick } from "@app/hoc";

type Variant = "default" | "empty" | "banner";

interface HeaderProps extends ComponentProps {
  links?: LinkProps[];
  variants?: Variant;
}

const Header: FC<HeaderProps> = ({ links, variants = "default", children }) => {
  const router = useRouter();

  return (
    <Fragment>
      {variants === "default" && (
        <header className="sticky -top-[0.65rem] w-full z-[999] bg-white shadow-sm rounded-t-lg">
          {children}
        </header>
      )}

      {variants === "banner" && (
        <header
          className="flex justify-center w-full min-h-[30%] 
        bg-bannerBg bg-cover bg-no-repeat 
        rounded-ss-lg rounded-se-lg md:py-[4rem]"
        >
          <svg
            width="209"
            height="40"
            viewBox="0 0 209 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M27.1011 8.34375V22.6266L21.791 26.3886L20.0812 27.5997L19.3888 28.0905L17.45 29.4638L16.7769 29.9406L16.7604 29.953L16.7432 29.9645V15.6817L16.7604 15.6698L27.1011 8.34375Z"
              fill="#F3F8FF"
            />
            <path
              opacity="0.72"
              d="M16.7759 15.6817V29.9645L16.7595 29.953L16.7422 29.9406L16.0691 29.4638L14.1303 28.0905L13.4378 27.5997L11.7281 26.3886L6.41797 22.6266V8.34375L16.7595 15.6698L16.7759 15.6817Z"
              fill="#F3F8FF"
            />
            <path
              d="M29.747 12.7188V25.2109L21.7909 30.8481L20.0811 32.0592L19.3887 32.5497V29.0921L20.0811 28.6016L21.7909 27.3901L27.8078 23.1269V14.092L29.747 12.7188Z"
              fill="#F3F8FF"
            />
            <path
              d="M14.1314 29.0921V32.5497L13.4389 32.0592L11.7292 30.8481L3.77344 25.2109V12.7188L5.71221 14.092V23.1269L11.7292 27.3901L13.4389 28.6016L14.1314 29.0921Z"
              fill="#F3F8FF"
            />
            <path
              d="M11.729 31.9492V34.0331L1.37109 26.6952V16.6875L3.08083 17.887V25.8219L11.729 31.9492Z"
              fill="#F3F8FF"
            />
            <path
              d="M32.1489 16.6875V26.6952L21.791 34.0331V31.9492L30.4392 25.8219V17.887L32.1489 16.6875Z"
              fill="#F3F8FF"
            />
            <path
              d="M101.15 27.4952C100.671 28.1746 99.7672 28.6841 98.6105 28.6841C97.0871 28.6841 96.2404 27.6941 96.0998 26.193C96.0998 26.0804 96.0434 25.146 96.0434 24.8346C95.7334 26.8146 93.7017 28.6556 91.332 28.6556C89.1029 28.6556 87.3262 27.5233 87.3262 25.146C87.3262 22.1179 90.5133 21.41 93.8711 20.7876L96.0147 20.3912V18.7779C96.0147 16.7121 95.0558 14.9573 92.7428 14.9573C90.6548 14.9573 89.8645 16.0327 89.8645 17.278C89.8645 18.1554 90.3723 18.7779 91.1622 18.7779C91.2888 18.7774 91.4139 18.7493 91.5286 18.6954C91.3879 19.5447 90.7387 19.9688 89.9212 19.9688C88.7641 19.9688 87.8615 19.2048 87.8615 17.903C87.8615 16.0632 89.8353 14.4219 92.7424 14.4219C96.4098 14.4219 98.6101 15.8363 98.6101 19.2048C98.6101 21.7235 98.5254 23.5913 98.5254 25.3176C98.5254 26.8748 99.1183 27.6668 100.303 27.6668C100.6 27.6697 100.893 27.5914 101.15 27.4404L101.15 27.4952ZM94.1244 21.297C91.332 21.8333 89.9775 22.8538 89.9775 24.8631C89.9775 26.7309 91.022 27.4098 92.3756 27.4098C94.1528 27.4098 95.9024 25.91 95.9587 23.2778L96.0147 20.9291L94.1244 21.297Z"
              fill="#F3F8FF"
            />
            <path
              d="M105.861 14.7024V18.6389C106.622 15.9782 108.4 14.4219 110.826 14.4219C113.422 14.4219 115.226 16.0917 115.226 19.3463V25.3725C115.226 27.2403 115.48 27.8347 116.834 28.4011V28.4564H111.136V28.4003C112.491 27.8339 112.744 27.2395 112.744 25.3717V19.5703C112.744 17.561 111.983 15.8343 109.754 15.8343C107.497 15.8343 105.861 17.9855 105.861 21.212V25.3725C105.861 27.2403 106.115 27.8347 107.469 28.4011V28.4564H101.77V28.4003C103.124 27.8339 103.378 27.2395 103.378 25.3717V17.7875C103.378 16.1742 102.983 15.3248 101.629 14.7593V14.7024H105.861Z"
              fill="#F3F8FF"
            />
            <path
              d="M132.435 27.4952C131.956 28.1746 131.053 28.6841 129.896 28.6841C128.375 28.6841 127.526 27.6941 127.385 26.193C127.385 26.0804 127.329 25.146 127.329 24.8346C127.019 26.8146 124.987 28.6556 122.618 28.6556C120.389 28.6556 118.611 27.5233 118.611 25.146C118.611 22.1179 121.799 21.41 125.157 20.7876L127.301 20.3912V18.7779C127.301 16.7121 126.342 14.9573 124.028 14.9573C121.941 14.9573 121.15 16.0327 121.15 17.278C121.15 18.1554 121.657 18.7779 122.447 18.7779C122.574 18.7774 122.699 18.7492 122.814 18.6954C122.673 19.5447 122.024 19.9688 121.206 19.9688C120.05 19.9688 119.146 19.2048 119.146 17.903C119.146 16.0632 121.12 14.4219 124.028 14.4219C127.695 14.4219 129.895 15.8363 129.895 19.2048C129.895 21.7235 129.811 23.5913 129.811 25.3176C129.811 26.8748 130.403 27.6668 131.589 27.6668C131.886 27.6697 132.178 27.5914 132.434 27.4404L132.435 27.4952ZM125.41 21.297C122.618 21.8333 121.263 22.8538 121.263 24.8631C121.263 26.7309 122.307 27.4098 123.662 27.4098C125.439 27.4098 127.188 25.91 127.244 23.2778L127.301 20.9291L125.41 21.297Z"
              fill="#F3F8FF"
            />
            <path
              d="M137.062 25.3789C137.062 27.2467 137.315 27.8411 138.67 28.4075V28.4628H132.971V28.4067C134.325 27.8403 134.579 27.2459 134.579 25.3781V10.3507C134.579 8.73743 134.184 7.8885 132.83 7.32214V7.26562H137.062V25.3789Z"
              fill="#F3F8FF"
            />
            <path
              d="M146.372 28.2315L141.379 17.7597C140.448 15.8074 140.165 15.411 139.234 14.7601V14.7031H144.313V14.7621C143.607 15.0731 143.466 15.4411 143.466 16.0074C143.466 16.4319 143.664 17.1389 143.946 17.7618L147.557 25.4603L150.802 17.9037C151.027 17.3943 151.14 16.8848 151.14 16.4319C151.14 15.696 150.802 15.0731 150.012 14.7621V14.7052H153.848V14.7621C152.861 15.413 152.466 16.064 151.592 18.0452L145.865 31.2035C144.736 33.8072 143.579 35.1091 141.689 35.1091C140.165 35.1091 139.094 34.2597 139.094 32.8733C139.094 31.656 139.998 30.9486 141.012 30.9486C141.407 30.9486 141.718 31.0055 142.056 31.1751C141.407 31.3731 141.125 31.8264 141.125 32.5054C141.125 33.3263 141.659 33.8922 142.507 33.8922C143.635 33.8922 144.256 32.9579 145.159 30.9486L146.372 28.2315Z"
              fill="#F3F8FF"
            />
            <path
              d="M163.271 24.023C163.045 26.7402 162.029 28.7495 159.49 28.7495C157.29 28.7495 155.907 27.363 155.907 24.6174V15.4476H153.934V15.278C156.303 14.797 157.771 12.6459 158.166 9.84375H158.392V14.7113H162.792L162.65 15.4472H158.391V24.5325C158.391 26.3722 159.067 27.3065 160.337 27.3065C161.719 27.3065 162.678 26.1458 163.045 24.023H163.271Z"
              fill="#F3F8FF"
            />
            <path
              d="M168.884 25.3733C168.884 27.2411 169.138 27.8355 170.492 28.4018V28.4571H164.793V28.401C166.147 27.8346 166.401 27.2402 166.401 25.3724V17.7882C166.401 16.1749 166.006 15.3256 164.652 14.7601V14.7031H168.884V25.3733Z"
              fill="#F3F8FF"
            />
            <path
              d="M174.837 21.4121C174.837 25.2331 176.896 27.4688 179.52 27.4688C181.748 27.4688 183.526 26.3085 184.344 23.9597L184.513 24.0158C183.979 27.0444 181.748 28.7422 178.701 28.7422C175.429 28.7422 172.1 26.3085 172.1 21.837C172.1 17.2236 175.43 14.4219 179.237 14.4219C182.284 14.4219 184.203 16.0632 184.203 17.903C184.203 19.2048 183.272 20.0257 182.115 20.0257C181.129 20.0257 180.395 19.4028 180.395 18.7238C180.559 18.7763 180.73 18.8041 180.902 18.8063C181.692 18.8063 182.2 18.2408 182.2 17.2801C182.2 16.0347 181.326 14.9878 179.237 14.9878C176.586 14.9878 174.837 17.7045 174.837 21.4121Z"
              fill="#F3F8FF"
            />
            <path
              d="M188.265 17.4232C188.265 18.8096 188.799 19.489 191.677 20.168C195.43 21.0458 196.729 22.3192 196.729 24.5822C196.729 27.3843 194.245 28.7422 191.622 28.7422C189.675 28.7422 188.491 28.0063 187.616 28.0063C187.082 28.0063 186.741 28.3462 186.402 28.7422L186.092 23.3653H186.149C187.362 26.3085 189.027 28.1767 191.622 28.1767C193.314 28.1767 194.697 27.1289 194.697 25.3461C194.697 23.6767 193.174 23.0819 190.719 22.5159C187.475 21.752 186.319 20.3932 186.319 18.2705C186.319 15.7802 188.519 14.4219 190.946 14.4219C192.695 14.4219 193.57 15.1858 194.529 15.1858C195.064 15.1858 195.46 14.8459 195.94 14.4219V19.0914H195.883C194.867 16.8276 193.203 14.9878 190.946 14.9878C189.196 14.9891 188.265 16.1214 188.265 17.4232Z"
              fill="#F3F8FF"
            />
            <path
              opacity="0.6"
              d="M168.827 12.6953H166.586V13.583H168.827V12.6953Z"
              fill="#F3F8FF"
            />
            <path
              d="M47.2535 8.65625V8.71276C45.9558 9.44866 45.6737 10.2976 45.6737 12.1658V27.7315H49.4262C52.9522 27.7315 54.3914 25.834 56.2249 22.4102H56.2816L55.2944 28.4666H39.8623V28.4105C41.16 27.6741 41.4421 26.8252 41.4421 24.9574V12.1658C41.4421 10.2976 41.16 9.44866 39.8623 8.71276V8.65625H47.2535Z"
              fill="#F3F8FF"
            />
            <path
              d="M70.3592 20.9057H61.0486C61.0486 24.4998 62.9109 26.8209 65.7884 26.8209C67.6503 26.8209 69.2868 25.9134 70.133 23.9334L70.3025 24.0159C69.5969 27.016 67.1992 28.7424 64.0392 28.7424C60.146 28.7424 56.9297 26.1102 56.9297 21.5236C56.9297 17.1363 60.1744 14.25 64.0112 14.25C68.3538 14.2549 70.3592 17.1136 70.3592 20.9057ZM66.353 20.3117C66.353 17.2546 66.0137 14.7928 63.9829 14.7928C62.3179 14.7928 61.19 16.9717 61.077 20.3117H66.353Z"
              fill="#F3F8FF"
            />
            <path
              d="M73.6877 28.4634H69.54V28.4073C71.0072 27.6425 71.9097 26.6521 73.0948 25.0953L75.6623 21.6716L73.2638 17.9075C72.1922 16.2377 71.487 15.5303 70.0766 14.596V14.5391H76.8469V14.596C76.5644 14.8229 76.4522 15.077 76.4522 15.4449C76.4238 16.0678 76.9316 16.8037 77.4678 17.6526L78.8502 19.8034L80.2894 17.6526C80.7689 17.0017 81.1357 16.2942 81.1357 15.7283C81.1357 15.2189 80.8536 14.8229 80.3741 14.596V14.5391H84.4647V14.596C82.9975 15.3599 82.095 16.3792 80.9666 17.9372L79.217 20.371L82.2076 25.0974C83.3363 26.7961 84.0132 27.5035 85.4519 28.4094V28.4634H78.6529V28.4073C78.9345 28.1809 79.0756 27.9255 79.0756 27.5864C79.0476 26.9636 78.5961 26.1992 78.0603 25.3787L76.0574 22.2656L73.8 25.3787C73.3477 25.9731 72.9254 26.6237 72.9254 27.2181C72.9254 27.7275 73.1791 28.1524 73.6877 28.4073V28.4634Z"
              fill="#F3F8FF"
            />
          </svg>
        </header>
      )}

      {variants === "empty" && <Fragment>{children}</Fragment>}
    </Fragment>
  );
};

export default Header;
